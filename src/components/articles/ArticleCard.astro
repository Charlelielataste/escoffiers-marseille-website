---
import { cn } from "../../lib/cn";

export interface Props {
  title: string;
  date: string;
  image: string;
  excerpt: string;
  slug: string;
  is_first?: boolean;
}
const {
  title,
  date,
  image,
  excerpt,
  slug,
  is_first = false,
} = Astro.props as Props;
---

<div
  class={cn(
    "flex rounded-3xl bg-white shadow-xl w-full border border-primary/20 p-5 relative",
    is_first && "border-tertiary"
  )}
>
  {
    is_first && (
      <div class="absolute top-2 left-2 bg-secondary text-white px-4 py-1 rounded-full text-sm font-bold shadow-lg z-10">
        À LA UNE
      </div>
    )
  }

  <div class="w-full flex flex-col h-full">
    <img
      src={image}
      alt="Image de l'article"
      class="object-cover w-full h-48 overflow-hidden rounded-2xl mb-4"
    />

    <div class="text-sm text-gray-600 mb-2 font-bold">{date}</div>

    <div class="flex flex-wrap gap-2 mb-4">
      <span
        class="bg-primary text-white py-1.5 px-3 rounded-full text-xs font-medium"
      >
        Excellence culinaire
      </span>
      <span
        class="bg-secondary text-white py-1.5 px-3 rounded-full text-xs font-medium"
      >
        Bénévolat
      </span>
      <span
        class="bg-tertiary text-white py-1.5 px-3 rounded-full text-xs font-medium"
      >
        Tradition française
      </span>
    </div>
    <h3
      class={cn(
        "text-2xl font-bold mb-3",
        is_first ? "text-tertiary" : "text-primary"
      )}
    >
      {title}
    </h3>

    <p class="text-gray-700 leading-relaxed line-clamp-5 mb-6">
      {excerpt}
    </p>

    <div class="flex justify-end mt-auto">
      <a
        href={`/articles/${slug}`}
        class={cn(
          "text-primary hover:text-primary/80 font-semibold text-sm transition-colors duration-200",
          is_first ? "text-tertiary" : "text-primary"
        )}
      >
        Lire l&apos;article →
      </a>
    </div>
  </div>
</div>

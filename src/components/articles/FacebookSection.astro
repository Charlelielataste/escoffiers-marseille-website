---
// Facebook API
declare global {
  interface Window {
    FB: {
      XFBML: {
        parse(): void;
      };
    };
  }
}
---

<div class="lg:flex justify-center hidden bg-container w-[420px] h-[540px]">
  <div
    class="fb-page"
    data-href="https://www.facebook.com/disciples.escoffier.provence.mediterranee"
    data-tabs="timeline"
    data-width="300"
    data-height="540"
    data-small-header="true"
    data-hide-cover="false"
    data-show-facepile="true"
    data-lazy="true"
  >
  </div>
</div>

<script is:inline data-astro-rerun>
  function loadFacebookSDK() {
    if (window.FB) {
      window.FB.XFBML.parse(); // Re-scan DOM
      return;
    }

    const script = document.createElement("script");
    script.async = true;
    script.defer = true;
    script.crossOrigin = "anonymous";
    script.src =
      "https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v19.0";
    document.body.appendChild(script);
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", loadFacebookSDK);
  } else {
    loadFacebookSDK();
  }
</script>

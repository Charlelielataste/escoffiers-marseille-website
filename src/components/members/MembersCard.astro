---
export interface Props {
  photo: string;
  color: string;
  name: string;
  role: string;
  description: string;
  email?: string;
  workplace?: string;
  size?: string;
}

const {
  photo,
  color,
  name,
  role,
  description,
  email,
  workplace,
  size = "112px",
} = Astro.props;
---

<div class="flex flex-col items-center text-center w-full sm:w-80">
  <!-- Photo de profil ronde -->
  <div class="relative mb-4">
    <div
      class="rounded-full overflow-hidden shadow-lg border-4"
      style={`width: ${size}; height: ${size}; border-color: ${color};`}
    >
      <img
        src={photo}
        alt={name}
        class="object-cover"
        style="width: 100%; height: 100%; object-fit: cover;"
      />
    </div>
  </div>

  <!-- Informations du membre -->
  <h4 class="text-lg font-bold text-gray-900 mb-1">
    {name}
  </h4>
  <p class="text-sm font-medium mb-2" style={`color: ${color};`}>
    {role}
  </p>
  <p class="text-sm text-gray-600 mb-2 line-clamp-2 font-semibold">
    {description}
  </p>
  {
    workplace && (
      <a
        href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(workplace)}`}
        target="_blank"
        rel="noopener noreferrer"
      >
        üìç{" "}
        <span class="text-sm hover:text-secondary/80 underline">
          {workplace}
        </span>
      </a>
    )
  }
  {
    email && (
      <a
        href={`mailto:${email}`}
        class="text-sm text-primary mt-2 flex items-center gap-x-2"
      >
        ‚úâÔ∏è{" "}
        <span class="hover:text-secondary/80 hover:underline">
          Contactez-moi
        </span>
      </a>
    )
  }
</div>

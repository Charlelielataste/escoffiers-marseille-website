---
import Layout from "@/layouts/Layout.astro";
import { Image } from "astro:assets";
import Image404 from "@/assets/hero/404.png";
import Hero from "@/components/Hero.astro";
---

<Layout title="Page non trouvée">
  <Hero picture={Image404} pictureAlt="404" has_scroll_indicator={false}>
    <div class="absolute inset-0 bg-black/30"></div>
    <div
      class="text-center relative bg-white h-fit rounded-2xl shadow-2xl z-10 max-w-4xl sm:mx-auto p-8 mx-4"
    >
      <div class="flex justify-center items-center gap-2 lg:gap-3 mb-8">
        <h1
          class="text-primary lg:text-5xl text-3xl font-bold"
          aria-label="404"
        >
          4
        </h1>

        <div class="utensil-animation w-6 h-6 lg:w-10 lg:h-10">
          <Image
            src="/icons/fork-spoon-rounded.svg"
            alt={"Fork and Spoon"}
            width={40}
            height={40}
            class="animate-spin-slow"
            loading="eager"
          />
        </div>
        <span class="text-primary lg:text-5xl text-3xl font-bold">4</span>
      </div>

      <h2
        id="error-title"
        class="text-3xl md:text-4xl font-bold text-black mb-6"
      >
        Oups ! Cette page n'existe pas...
      </h2>

      <p
        id="error-description"
        class="text-lg md:text-xl text-primary-accessible mb-8 max-w-2xl mx-auto"
      >
        Pas de panique ! Il semble que vous ayez cherché une page qui n'est pas
        ou n'est plus disponible sur notre site !
      </p>

      <div
        class="flex flex-col sm:flex-row gap-4 justify-center items-center w-full"
      >
        <a
          id="home"
          href="/"
          class="bg-primary text-bordered-light text-white w-full py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
        >
          Retour à l'accueil
        </a>
        <a
          id="report-problem"
          href="mailto:contact@disciplesescoffier-provence-mediterranee.org?subject=Signalement%20de%20problème%20sur%20le%20site"
          class="bg-secondary text-bordered-light text-white w-full py-3 rounded-lg font-semibold hover:bg-secondary/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
        >
          Signaler un problème
        </a>
      </div>
    </div>
  </Hero>
</Layout>

<script is:inline>
  (function () {
    function init() {
      try {
        var path = window.location.pathname || "";
        var isEnglish = path.indexOf("/en/") === 0;

        var title = document.getElementById("error-title");
        var description = document.getElementById("error-description");
        var button = document.getElementById("home");
        var reportProblem = document.getElementById("report-problem");

        if (isEnglish) {
          document.title =
            "Page not found - Disciples d'Escoffier Provence Méditerranée";
          if (title) title.textContent = "Oops! This page doesn't exist...";
          if (description)
            description.textContent =
              "Don't panic! It seems you've been looking for a page that's not or is no longer available on our site!";
          if (button) button.textContent = "Back to home";
          if (button) button.href = "/en/";
          if (reportProblem) reportProblem.textContent = "Report a problem";
          if (reportProblem)
            reportProblem.href =
              "mailto:contact@disciplesescoffier-provence-mediterranee.org?subject=Report%20a%20problem%20on%20the%20site";
        }
      } catch (e) {
        console.error(e);
      }
    }

    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", init);
    } else {
      init();
    }
  })();
</script>

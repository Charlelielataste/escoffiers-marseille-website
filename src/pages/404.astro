---
import Layout from "@/layouts/Layout.astro";
import { getTranslations, type Locale } from "@/lib/i18n";
import { Image } from "astro:assets";
import Image404 from "@/assets/hero/404.png";
import Hero from "@/components/Hero.astro";

const currentLocale = (Astro.currentLocale || "fr") as Locale;
const t = getTranslations(currentLocale);
---

<Layout title="Page non trouvée - Les Disciples d'Escoffier Marseille">
  <div class="relative">
    <Hero
      picture={Image404}
      pictureAlt="404 background"
      has_scroll_indicator={false}
    >
      <div class="absolute inset-0 bg-black/30"></div>
      <div
        class="text-center bg-white rounded-2xl shadow-2xl absolute z-10 max-w-4xl sm:mx-auto py-6 px-4 mx-4"
      >
        <div class="flex justify-center items-center gap-2 lg:gap-3 mb-8">
          <h1
            class="text-primary lg:text-5xl text-3xl font-bold"
            aria-label="404"
          >
            4
          </h1>

          <div class="utensil-animation w-6 h-6 lg:w-10 lg:h-10">
            <Image
              src="/icons/fork-spoon-rounded.svg"
              alt="Cuillère"
              width={40}
              height={40}
              class="animate-spin-slow"
              loading="eager"
            />
          </div>
          <span class="text-primary lg:text-5xl text-3xl font-bold">4</span>
        </div>

        <h2 class="text-3xl md:text-4xl font-bold text-black mb-6">
          {t.error404.title}
        </h2>

        <p
          class="text-lg md:text-xl text-primary mb-8 lg:mb-8 max-w-2xl mx-auto"
        >
          {t.error404.subtitle}
        </p>

        <div
          class="flex flex-col sm:flex-row gap-4 justify-center items-center w-full"
        >
          <a
            href={`/${currentLocale}`}
            class="bg-primary text-white w-full py-3 rounded-lg font-semibold hover:bg-primary/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
          >
            {t.error404.backHome}
          </a>

          <a
            href="mailto:Escoffiers@quelquechose.com?subject=Signalement%20de%20problème%20sur%20le%20site"
            aria-label="Signaler un problème"
            class="bg-secondary text-white py-3 w-full rounded-lg font-semibold hover:bg-secondary/90 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
          >
            {t.error404.reportProblem}
          </a>
        </div>
      </div>
    </Hero>
  </div>
</Layout>

<style>
  /* Animate icon spin */
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 3s linear infinite;
  }

  .utensil-animation {
    transition: all 0.3s ease;
  }

  .utensil-animation:hover {
    transform: scale(1.2);
  }
</style>
